@model WebBanQuanAo.Areas.Admin.Models.UpdateUserViewModel

@* <div class="content-wrapper"> *@
<section class="content-header">
    <h1>
        Sửa người dùng
        <small>Cập nhật thông tin</small>
    </h1>
</section>

<section class="content" style="font-family: 'Times New Roman'">
    <div class="row">
        <div class="col-md-6">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Thông tin người dùng</h3>
                </div>

                <form asp-action="UpdateUser" method="post">
                    @Html.AntiForgeryToken()

                    <div class="box-body">
                        <div class="form-group">
                            <label>Id</label>
                            <input type="text" class="form-control"
                                   name="Id" readonly
                                   value="@Model.Id" />
                            <input type="hidden" asp-for="Id" />
                        </div>

                        <div class="form-group">
                            <label>Họ tên</label>
                            @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                        </div>

                        <div class="form-group">
                            <label>Email</label>
                            <input class="form-control"
                                   name="Email"
                                   value="@Model.Email" />
                            @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                        </div>

                        <div class="form-group">
                            <label>UserName</label>
                            <input class="form-control"
                                   name="UserName"
                                   value="@Model.UserName" />
                            @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
                        </div>

                        <div class="form-group">
                            <label>Số điện thoại</label>
                            <input class="form-control"
                                   name="PhoneNumber"
                                   value="@Model.PhoneNumber" />
                            @Html.ValidationMessageFor(model => model.PhoneNumber, "", new { @class = "text-danger" })
                        </div>
                        <div class="form-group">
                            <label>Phân quyền</label>

                            <select name="SelectedRoles"
                                    class="form-control select2"
                                    data-placeholder="Chọn quyền"
                                    style="width: 100%;">
                                @foreach (var role in Model.AllRoles)
                                {
                                    <option value="@role"
                                            @(Model.SelectedRoles.Contains(role) ? "selected" : "")>
                                        @role
                                    </option>
                                }
                            </select>
                        </div>
                    </div>

                    <div class="box-footer">
                        <button type="submit" class="btn btn-primary">Lưu</button>
                        <a href="/Admin/User/Index" class="btn btn-default" style="position:relative; z-index:9999">
                            Quay lại
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
@* </div> *@
<script>
    $(function () {
        $('.select2').select2({
            closeOnSelect: false
        });
    });
</script>
